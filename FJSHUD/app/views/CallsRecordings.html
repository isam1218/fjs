<div class="Widget Calllog" id="WidgetCallLog" unpin="/calllog" draggable="true">
    <div class="WidgetHeader">
        <div class="Avatar AvatarApp">
            <div class="TopBarItemAppIcon CallLog"></div>
        </div>
        <div class="WidgetHeaderTitle">Calls & Recordings</div>
    </div>
    <div class="WidgetBody">
        <div class="WidgetTabBar">
            <a href="#/calllog" class="WidgetTabBarButton Ready fj-selected-item">
                <div class="inner">Call Log</div>
                <div class="arrow"></div>
            </a>
            <a href="#/calllog/voicemails" class="WidgetTabBarButton Ready">
                <div class="inner">Voicemails</div>
                <div class="arrow"></div>
            </a>
        </div>
        <div class="ToolBar">
            <div class="SearchInputBox">
                <div class="SearchInputBoxInputHolder">
                    <input class="SearchInputBoxInput" data-ng-change="onSearch()" type="text" x-webkit-speech=""
                           data-ng-model="query" placeholder="Search">
                </div>
                <div class="SearchInputBoxStateButton">
                    <div class="SearchInputBoxStateButtonIcon"></div>
                </div>
            </div>
        </div>
        <div class="ListLineContent Header LeftContactsColumns">
            <div class="ListLineContentCell Name {{(sortField == 'displayName' && ((sortReverce && 'Down') || 'Up')) || 'None'}}">
                <span>Name</span>

                <div class="DirectionArrow"></div>
            </div>
            <div data-ng-click="sort('displayName')"
                 class="ListLineContentCell Name {{(sortField == 'displayName' && ((sortReverce && 'Down') || 'Up')) || 'None'}}">
                <span>Phone</span>

                <div class="DirectionArrow"></div>
            </div>
            <div data-ng-click="sort('primaryExtension')"
                 class="ListLineContentCell Extension {{(sortField == 'primaryExtension' && ((sortReverce && 'Down') || 'Up')) || 'None'}}">
                <span>Duration</span>

                <div class="DirectionArrow"></div>
            </div>
            <div data-ng-click="sort('startedAt')"
                 class="ListLineContentCell Date Down">
                <span>Date</span>

                <div class="DirectionArrow"></div>
            </div>
            <div data-ng-click="sort('xmpp')"
                 class="ListLineContentCell HudStatus {{(sortField == 'xmpp' && ((sortReverce && 'Down') || 'Up')) || 'None'}}">
                <span>Type</span>

                <div class="DirectionArrow"></div>
            </div>
        </div>

        <div class="LeftBarTabContentList">
            <a href="#/contact/{{contact.xpid}}" context-menu="contact"
               data-ng-repeat="call in calls"
               class="ListRowFirst ListRow ListRow-Contact">

                <div class="Avatar AvatarSmall CallAvatar CallAvatar_Office">
                    <img class="AvatarImgPH" data-fj-local-id="avatarImg"
                         ng-src="{{ call.getCallAvatarUrl(28,28)}}">

                    <div class="AvatarInteractable AvatarForeground"></div>
                </div>
                <div class="ListRowContent">
                    <div class="ListRowTitle">
                        <div class="name">
                            <b>{{ call.displayName}}</b>
                            <span class="details">#{{ call.phone }}</span>
                        </div>
                    </div>

                    <div class="ListRowStatus">
                        <div class="ListRowStatusIcon XIcon-ChatStatus-{{call.status}}">
                            <div class="status-icon-inner"></div>
                        </div>
                        <div class="ListRowStatusIcon XIcon-QueueStatus XIcon-QueueStatus-{{call.status}}">
                            <div class="status-icon-inner"></div>
                        </div>
                        <div class="ListRowStatusText">{{contact.contactstatus_xmppCustom || contact.contactstatus_xmpp || 'offline'}}
                        </div>
                    </div>
                </div>
            </a>
        </div>

    </div>


</div>

</div>
