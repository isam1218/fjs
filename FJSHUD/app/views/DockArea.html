<!-- standard gadgets -->
<div class="Gadget" ng-repeat="gadget in gadgets.GadgetUserQueues" dragger>
	<a href="#/callcenter" class="Header">
		<div class="Icon TopBarItemAppIcon CallCenter"></div>
		<div class="Title">
			<div>My Queues</div>
			<div ng-if="gadget.data.queues.length == 0">Not an agent</div>
			<div ng-if="gadget.data.queues.length > 0">Logged {{ gadget.data.loggedIn > 0 ? 'in (' + gadget.data.loggedIn + ')' : 'out' }}</div>
		</div>
	</a>
		
	<div class="Content">
		<div class="SubHeader">My Queues</div>
		
		<div class="List">
			<a href="#/queue/{{queue.xpid}}" ng-repeat="queue in gadget.data.queues | orderBy: 'name' track by queue.xpid">	
				<div class="Avatar AvatarNormal" context-menu="queue">
					<div class="GroupAvatarItem GroupAvatarItem_0">
						<img class="GroupAvatarItemImg" data-ng-src="{{ ::queue.getAvatar(0, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
					</div>
					<div class="GroupAvatarItem GroupAvatarItem_1">
						<img class="GroupAvatarItemImg" data-ng-src="{{ ::queue.getAvatar(1, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
					</div>
					<div class="GroupAvatarItem GroupAvatarItem_2">
						<img class="GroupAvatarItemImg" data-ng-src="{{ ::queue.getAvatar(2, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
					</div>
					<div class="GroupAvatarItem GroupAvatarItem_3">
						<img class="GroupAvatarItemImg" data-ng-src="{{ ::queue.getAvatar(3, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
					</div>
					<div class="AvatarInteractable"></div>
				</div>
			
				<div class="ListRowContent">
					<div>{{ queue.name }}</div>
					<div class="ListRowStatusIcon XIcon-QueueStatus-{{ queue.me.status.status }}"></div>
				</div>
			</a>
			
			<div ng-if="gadget.data.length == 0">
				No queues...
			</div>
		</div>
	</div>
	
	<resizer></resizer>
</div>

<div class="Gadget" ng-repeat="gadget in gadgets.GadgetParkedCalls" dragger>
	<div class="Header Single">
		<div class="Avatar AvatarNormal">
			<div class="GroupAvatarItem GroupAvatarItem_0">
				<img class="GroupAvatarItemImg" src="img/Generic-Avatar-28.png" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_1">
				<img class="GroupAvatarItemImg" src="img/Generic-Avatar-28.png" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_2">
				<img class="GroupAvatarItemImg" src="img/Generic-Avatar-28.png" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_3">
				<img class="GroupAvatarItemImg" src="img/Generic-Avatar-28.png" />
			</div>
		</div>
		<div class="Title">
			<div>Parked Calls</div>
			<div>no calls on park</div>
		</div>
	</div>
</div>

<!-- contacts -->
<div class="Gadget" ng-repeat="gadget in gadgets.GadgetContact" dragger>
	<a href="#/contact/{{::gadget.data.xpid}}" class="Header Single">
		<div class="Avatar AvatarNormal" context-menu="gadget.data">
			<img class="AvatarImgPH" data-ng-src="{{::gadget.data.getAvatar(28)}}" onerror="this.src='img/Generic-Avatar-28.png'" />
			<div class="AvatarForeground AvatarInteractable"></div>
		</div>
		<div class="Title">
			<div>{{ ::gadget.data.displayName }}</div>
			<div>
				<div class="ListRowStatusIcon XIcon-QueueStatus-"></div>
				<div class="ListRowStatusIcon XIcon-ChatStatus-{{gadget.data.hud_status || 'offline' }}"></div>
			</div>
		</div>
	</a>
</div>

<!-- groups -->
<div class="Gadget" ng-repeat="gadget in gadgets.GadgetGroup" dragger>
	<a href="#/group/{{::gadget.data.xpid}}" class="Header">
		<div class="Avatar AvatarNormal" context-menu="gadget.data">
			<div class="GroupAvatarItem GroupAvatarItem_0">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(0, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_1">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(1, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_2">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(2, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_3">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(3, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="AvatarInteractable"></div>
		</div>
		<div class="Title">
			<div>{{ ::gadget.data.name }}</div>
			<div>None</div>
		</div>
	</a>
	
	<div class="Content">
		<div class="SubHeader">Members</div>
		
		<div class="List">
			<a href="#/contact/{{member.xpid}}" ng-repeat="member in gadget.data.members | orderBy: 'displayName' track by member.xpid" ng-init="member = getContact(member.contactId)">
				<div class="Avatar AvatarSmall" context-menu="member">
					<img class="AvatarImgPH" data-ng-src="{{::member.getAvatar(28)}}" onerror="this.src='img/Generic-Avatar-28.png'" />
					<div class="AvatarForeground AvatarInteractable"></div>
				</div>
			
				<div class="ListRowContent">
					<div>{{ member.displayName }}</div>
					<div class="IconDisplay XIcon-ChatStatus-{{member.hud_status || 'offline' }}"></div>
				</div>
			</a>
		</div>
	</div>
	
	<resizer></resizer>
</div>

<!-- conferences -->
<div class="Gadget" ng-repeat="gadget in gadgets.GadgetConferenceRoom" dragger>
	<a href="#/conference/{{::gadget.data.xpid}}" class="Header">
		<div class="Avatar AvatarNormal" context-menu="gadget.data">
			<div class="GroupAvatarItem GroupAvatarItem_0">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(0, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_1">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(1, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_2">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(2, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_3">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(3, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="AvatarInteractable"></div>
		</div>
		<div class="Title">
			<div>Room #{{ ::gadget.data.roomNumber + ' (' + gadget.data.extensionNumber + ')' }}</div>
			<div ng-if="gadget.data.members.length == 0">{{ ::gadget.data.location }}</div>
			<div ng-if="gadget.data.members.length > 0">Talking: {{ gadget.data.members.length }}</div>
		</div>
	</a>
	
	<div class="Content">
		<div class="SubHeader">Members</div>
		
		<div class="List">
			<a href="#/contact/{{member.xpid}}" ng-repeat="member in gadget.data.members | orderBy: 'displayName' track by member.xpid" ng-init="member = getContact(member.contactId)">
				<div class="Avatar AvatarSmall" context-menu="member">
					<img class="AvatarImgPH" data-ng-src="{{::member.getAvatar(28)}}" onerror="this.src='img/Generic-Avatar-28.png'" />
					<div class="AvatarForeground AvatarInteractable"></div>
				</div>
			
				<div class="ListRowContent">
					<div>{{ ::member.displayName }}</div>
					<div>{{ ::member.primaryExtension }} , {{ timeElapsed(member.call.startedAt) }}</div>
				</div>
			</a>
			
			<div ng-if="!gadget.data.members || gadget.data.members.length == 0">
				Room is free and you can do it...
				<p>
					<input type="button" value="Join!" class="XButton" ng-click="joinConference(gadget.data)" />
				</p>
			</div>
		</div>
	</div>
	
	<resizer></resizer>
</div>

<!-- queues -->
<div class="Gadget" ng-repeat="gadget in gadgets.GadgetQueueStat" dragger>
	<a href="#/queue/{{::gadget.data.xpid}}" class="Header">
		<div class="Avatar AvatarNormal" context-menu="gadget.data">
			<div class="GroupAvatarItem GroupAvatarItem_0">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(0, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_1">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(1, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_2">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(2, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="GroupAvatarItem GroupAvatarItem_3">
				<img class="GroupAvatarItemImg" data-ng-src="{{ ::gadget.data.getAvatar(3, 28) }}" onerror="this.src='img/Generic-Avatar-28.png'" />
			</div>
			<div class="AvatarInteractable"></div>
		</div>
		<div class="Title">
			<div>{{ ::gadget.data.name }}</div>
			<div>Agents: {{ 0 + ' / ' + gadget.data.loggedInMembers + ' / ' + gadget.data.members.length }}</div>
		</div>
	</a>
	
	<div class="Content">
	</div>
</div>