<div id="InnerDock" class="InnerDock" droppable="Contact,Group,ConferenceRoom,QueueStat">
	<!-- standard gadgets -->
	<div class="Gadget" ng-repeat="gadget in gadgets.GadgetUserQueues" dragger>
		<a href="#/callcenter" class="Header">
			<div class="Icon TopBarItemAppIcon CallCenter"></div>
			<div class="Title">
				<div class="titleHeader header">{{::verbage.my_queue}}</div>
				<div class="subTitle" ng-if="gadget.data.queues.length == 0">Not an agent</div>
				<div class="subTitle" ng-if="gadget.data.queues.length > 0">{{ gadget.data.loggedIn > 0 ?  verbage.logged_in + '(' + gadget.data.loggedIn + ')' : verbage.logged_out }}</div>
			</div>
		</a>
			
		<div class="Content">
			<div class="SubHeader">{{::verbage.my_queue}}</div>
			
			<div class="List">
				<a href="#/queue/{{::queue.xpid}}" class="ListRow" ng-repeat="queue in gadget.data.queues | orderBy: 'name' track by queue.xpid">
					<avatar profile="queue"></avatar>
				
					<div class="ListRowContent" dockable="queue">
						<div class="ListRowTitle">
							<div class="name">{{ ::queue.name }}</div>							
							<div class="ListRowStatusIcon XIcon-QueueStatus-{{ queue.me.status.status }}"></div>
							<div class="status">{{ queueStatusLabel(queue.me.status.status) }}</div>
						</div>
					</div>
				</a>
				
				<div ng-if="gadget.data.queues.length == 0">
			    {{::verbage.no_queues}}
	
				</div>
			
			</div>
		</div>
		
		<resizer></resizer>
	</div>

	<div class="Gadget" ng-repeat="gadget in gadgets.GadgetParkedCalls" droppable="Call" dragger>
		<div class="Header Single">
			<avatar profile="4"></avatar>
			<div class="Title">
				<div class="titleHeader header">{{::verbage.parked_calls}}</div>
				<div class="subTitle GadgetStatusText" ng-if="parkedCalls.length < 1">{{::verbage.no_calls_on_park}}</div>
				<div class="subTitle GadgetStatusText" ng-if="parkedCalls.length == 1"> {{ parkedCalls.length }} call on park </div> 
				<div class="subTitle GadgetStatusText" ng-if="parkedCalls.length > 1"> {{ parkedCalls.length }} calls on park </div> 
			</div>
		</div>
		<div class="Header ListSectionGadget" ng-if="parkedCalls.length > 0"> {{::verbage.calls}} </div>
		<div> 
			<div ng-repeat="call in parkedCalls"class="ListRowFirst ListRow ListRow-Contact" style=" background-image: linear-gradient(#fefefe, #ebebeb);">			
				<avatar profile="call"></avatar>
				
				<div class="ListRowContent" style="display:inline-block;margin-right:2px">
					<div class="ListRowTitle" style="width:80px;padding:0px;text-overflow:ellipssis;white-space:nowrap">
						<div>{{ ::call.displayName }}</div>
						<div>{{ ::call.phone }}</div>
					</div>
						
						
				</div>
				<div timer="call.created" style="float:right;font-size:.65em;margin-top:2px;margin-right:2px"></div>
				
			</div>		
		</div>
	</div>

	<!-- contacts -->
	<div class="Gadget" ng-repeat="gadget in gadgets.GadgetContact" droppable="Call" dragger>
		<a href="#/contact/{{::gadget.data.xpid}}" class="Header Single">
			<avatar profile="gadget.data"></avatar>
			<div class="Title">
				<div class="titleHeader">{{ ::gadget.data.displayName }}</div>
				<div>
					<div class="ListRowStatusIcon XIcon-QueueStatus-{{ gadget.data.queue_status }}"></div>
					<div class="ListRowStatusIcon XIcon-ChatStatus-{{ gadget.data.hud_status || 'offline' }}"></div>
				</div>
			</div>
				
			<div class="CallStatus" ng-if="gadget.data.call">
				<avatar
					ng-click="showCallStatus($event, gadget.data)"
					profile="gadget.data.call.fullProfile"
					context="callstatus"
					type="{{::gadget.data.call.type}}">
				</avatar>
			</div>	
		</a>
	</div>

	<!-- groups -->
	<div class="Gadget" ng-repeat="gadget in gadgets.GadgetGroup" dragger>
		<a href="#/group/{{::gadget.data.xpid}}" class="Header">
			<avatar profile="gadget.data"></avatar>
			<div class="Title">
				<div class="titleHeader">{{ ::gadget.data.name }}</div>
				<div class="subTitle">None</div>
			</div>
		</a>
		
		<div class="Content">
			<div class="SubHeader">{{::verbage.member}}</div>
			
			<div class="List">
				<a href="#/contact/{{::member.fullProfile.xpid}}" class="ListRow" ng-repeat="member in gadget.data.members | orderBy: 'fullProfile.displayName' track by member.xpid" droppable="Call">
					<avatar profile="member.fullProfile"></avatar>
				
					<div class="ListRowContent" dockable="member.fullProfile">
						<div class="ListRowTitle">
							{{ ::member.fullProfile.displayName }}
							<br/>
							<div class="IconDisplay XIcon-ChatStatus-{{member.fullProfile.hud_status || 'offline' }}"></div>
							<div class="status">{{(member.fullProfile.custom_status ? member.fullProfile.custom_status : member.fullProfile.hud_status ? verbage[member.fullProfile.hud_status] : verbage['offline']) + (member.fullProfile.call ? ' + ' + verbage['on_call'] : '') }}</div>
						</div>
					</div>
				</a>
			</div>
		</div>
		
		<resizer></resizer>
	</div>

	<!-- conferences -->
	<div class="Gadget" ng-repeat="gadget in gadgets.GadgetConferenceRoom" droppable="Contact,Call" dragger>
		<a href="#/conference/{{::gadget.data.xpid}}" class="Header">
			<avatar profile="gadget.data"></avatar>
			<div class="Title">
				<div class="titleHeader">Room #{{ ::gadget.data.roomNumber + ' (' + gadget.data.extensionNumber + ')' }}</div>
				<div class="subTitle" ng-if="gadget.data.members.length == 0">{{ ::gadget.data.location }}</div>
				<div class="subTitle" ng-if="gadget.data.members.length > 0">Talking: {{ gadget.data.members.length }}</div>
			</div>
		</a>
		
		<div class="Content">
			<div class="SubHeader">{{::verbage.member}}</div>
			
			<div class="List">
				<a class="ListRow" ng-repeat="member in gadget.data.members | orderBy: 'displayName' track by member.xpid">
					<avatar profile="member" context="conference:gadget.data"></avatar>
				
					<div class="ListRowContent" dockable="member.fullProfile">
						<div class="ConfMemberRowTitle">
							<div class="name">{{ ::member.fullProfile.displayName || member.displayName }}</div>
<!-- 							<br/> -->
							<div class="">{{ ::member.fullProfile.primaryExtension || member.phone }}</div>
						</div>
						<div class="ListRowStatus" timer="member.fullProfile.call.startedAt || member.started"></div>
					</div>
				</a>
				
				<div class="free" ng-if="!gadget.data.members || gadget.data.members.length == 0">
					{{::verbage.room_is_free}}...
					<p>
						<input type="button" value="Join!" class="XButton" ng-click="joinConference(gadget.data)" />
					</p>
				</div>
			</div>
		</div>
		
		<resizer></resizer>
	</div>

	<!-- queues -->
	<div class="Gadget" ng-repeat="gadget in gadgets.GadgetQueueStat" dragger>
		<a href="#/queue/{{::gadget.data.xpid}}" class="Header">
			<avatar profile="gadget.data"></avatar>
			<div class="Title">
				<div class="Name">{{ ::gadget.data.name }}</div>
				<div class="Agents">Agents: {{ gadget.data.info.active + ' / ' + gadget.data.loggedInMembers + ' / ' + gadget.data.members.length }}</div>
			</div>
		</a>
		
		<div class="Content">
			<div class="List Stats">
				<div ng-class="(gadget.data.info.waiting > queueThresholds.waiting && queueThresholds.waiting != 0) ? 'RedText' : ''">
					<strong>{{ gadget.data.info.waiting }}</strong> 
					{{::verbage.waiting}}
				</div>
				<div ng-class="(gadget.data.longestWait > queueThresholds.avg_wait && queueThresholds.avg_wait != 0) ? 'RedText' : ''">
					<strong>{{ gadget.data.info.esa*1000 | duration }}</strong>
					{{::verbage.avg_wait}}
				</div>
				<div ng-class="(gadget.data.info.avgTalk > queueThresholds.avg_wait && queueThresholds.avg_wait != 0) ? 'RedText' : ''">
					<strong>{{ gadget.data.info.avgTalk*1000 | duration }}</strong>
                    {{::verbage.avg_talk}}
				</div>
				<div>
					<strong>{{ gadget.data.info.abandon + gadget.data.info.completed }}</strong>
					{{::verbage.total}}
				</div>
				<div ng-class="(gadget.data.info.abandonPercent > queueThresholds.abandoned && queueThresholds.abandoned != 0) ? 'RedText' : ''">
					<strong>{{ gadget.data.info.abandonPercent }}%</strong>
					{{::verbage.Abandon}}

				</div>
				<div>
					<strong>{{ gadget.data.info.active }}</strong>
					{{::verbage.active}}
				</div>
			</div>
		</div>
	</div>

	
</div>
<!---->
<div class="FileUploadStatus" ng-if="upload_progress > 0">
	<div class="progress_text text-style"><span >Progress</span></div>
	<div class="Gadget">
		<div class="text-style" >
			<div class="timer" timer="now"></div>
			<div> <span>Form Upload<span></div>
			<progress ng-value="upload_progress" max="100"  > </progress>
			<div class="CancelUploadIcon" ng-click="cancelUpload()" style="float:right" > </div>
		</div>
	</div>
</div>

