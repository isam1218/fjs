<div class="ListLineContent Header LeftContactsColumns">
    <div data-ng-click="sort('displayName')" class="ListLineContentCell Name {{(sortField == 'displayName' && ((sortReverse && 'Down') || 'Up')) || 'None'}}">
        <span>NAME</span>
        <div class="DirectionArrow"></div>
    </div>
    <div data-ng-click="sort('primaryExtension')" class="ListLineContentCell Extension {{(sortField == 'primaryExtension' && ((sortReverse && 'Down') || 'Up')) || 'None'}}">
        <span>EXTENSION</span>
        <div class="DirectionArrow"></div>
    </div>
    <div data-ng-click="sort('calls_startedAt')"  class="ListLineContentCell CallStatus {{(sortField == 'calls_startedAt' && ((sortReverse && 'Down') || 'Up')) || 'None'}}">
        <span>CALL STATUS</span>
        <div class="DirectionArrow"></div>
    </div>
    <div data-ng-click="sort('hud_status')"  class="ListLineContentCell HudStatus {{(sortField == 'hud_status' && ((sortReverse && 'Down') || 'Up')) || 'None'}}">
        <span>HUD STATUS</span>
        <div class="DirectionArrow"></div>
    </div>
</div>

<div class="ContactList">
	<!--<div id="ContactsList" contacts-list></div>-->
	<div class="LeftBarTabContentList">
		<a href="#contact/{{::contact.xpid}}" ng-click="storeRecent(contact.xpid)" context-menu="contact" data-ng-repeat="contact in contacts | filter: {displayName: $parent.$parent.query} | filter:customFilter() | orderBy: sortField: sortReverse track by contact.xpid" class="ListRowFirst ListRow ListRow-Contact">
			<div class="Avatar AvatarNormal" avatar-menu="contact">
				<img class="AvatarImgPH" data-ng-src="{{::getAvatarUrl(contact.xpid)}}" onerror="this.src='img/Generic-Avatar-28.png'" />
				<div class="AvatarForeground AvatarInteractable"></div>
			</div>
			<div class="ListRowContent">
				<div class="ListRowTitle">
					<div class="name">
						<strong>{{ ::contact.displayName }}</strong>
						<span>#{{ ::contact.primaryExtension }}</span>
					</div>
				</div>
				<div class="CallStatus">
					<div ng-if="contact.calls_startedAt" class="Avatar AvatarSmall CallAvatar CallAvatar_Office">
						<img class="AvatarImgPH" data-fj-local-id="avatarImg" ng-src="{{ contact.getCallAvatarUrl(28,28)}}">
						<div class="AvatarInteractable AvatarForeground"></div>
					</div>
				</div>
				<div class="ListRowStatus">
					<div class="ListRowStatusIcon XIcon-ChatStatus-{{contact.hud_status}}">
						<div class="status-icon-inner"></div>
					</div>
					<div class="ListRowStatusIcon XIcon-QueueStatus XIcon-QueueStatus-{{contact.contactstatus_queueStatus}}">
						<div class="status-icon-inner"></div>
					</div>
					<br/>
					<div class="ListRowStatusText">{{contact.hud_status || 'offline'}}</div>
				</div>
			</div>
		</a>
	</div>
</div>

<div ng-show="$parent.overlay == 'contacts'" class="Overlay">
	<div ng-click="showOverlay(false)" class="Background"></div>
	<div class="Foreground">
		<div ng-click="showOverlay(false)" class="Close">x</div>
		
		<div class="Header">
			<h2>Add a New Contact</h2>
		</div>
		
		<div class="Sections">
			<div class="Section">
				<div>
					<h4>Contact Information</h4>
					<em>Want to know who is calling you?</em>
				</div>
				<div>
					<label>First Name</label>
					<input ng-model="add.firstName" type="text" class="XInputText" />
				</div>
				<div>
					<label>Last Name</label>
					<input ng-model="add.lastName" type="text" class="XInputText" />
				</div>
				<div>
					<label>Display Name</label>
					<input ng-model="add.displayName" type="text" class="XInputText" />
				</div>
				<div>
					<h4>Visibility</h4>
					<input ng-model="add.favorite" type="checkbox" /> Add to favorites group
				</div>
			</div>
			
			<div class="Section">
				<div>
					<h4>Phones</h4>
					<em>Add contact phone to make calls</em>
				</div>
				<div>
					<label>Business phone</label>
					<input ng-model="add.business" type="text" class="XInputText" />
				</div>
				<div>
					<label>Mobile phone</label>
					<input ng-model="add.mobile" type="text" class="XInputText" />
				</div>
				<div>
					<h4>Messaging</h4>
					<em>Want to chat and e-mail this person?</em>
				</div>
				<div>
					<label>E-mail</label>
					<input ng-model="add.email" type="text" class="XInputText" />
				</div>
				<div>
					<label>GoogleTalk (JID)</label>
					<input ng-model="add.jid" type="text" class="XInputText" />
				</div>
				<div>
					<label>IMS</label>
					<input ng-model="add.ims" type="text" class="XInputText" />
				</div>
			</div>
		</div>
		
		<div class="Footer">
			<div class="Error" ng-show="addError" ng-bind="addError"></div>
			<input type="button" class="XButton" value="Cancel" ng-click="showOverlay(false)" />
			<input type="button" class="XButton" value="Add Contact" ng-click="addContact()" />
		</div>
	</div>
</div>